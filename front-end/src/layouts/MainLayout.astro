---
interface Props {
  title: string;
  description: string;
  ogImage?: string;
  ogType?: string;
  canonical?: string;
  noindex?: boolean;
  navBarTextColor?: string;
  iconUrl?: string;
  textHoverColor?: string;
  menuButtonColor?: string;
  borderMenuColor?: string;
}

const {
  title,
  description,
  ogImage,
  ogType = "website",
  canonical,
  noindex = false,
  navBarTextColor = "text-white",
  iconUrl = "/steelmaticon.svg",
  textHoverColor = "text-white",
  menuButtonColor = "text-gray-200",
  borderMenuColor = "border-gray-200",
} = Astro.props;

import NavBar from "@/components/navBar.astro";
import Footer from "@/components/footer.astro";
import OrganizationSchema from "@/components/seo/OrganizationSchema.astro";
import { OpenPanelComponent } from "@openpanel/astro";
import Whatsappicon from "@/components/whatsappicon.astro";
import "../styles/global.css";
---

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={description} />
    <title>{title}</title>

    <!-- Canonical URL -->
    <link rel="canonical" href={canonical || Astro.url.href} />

    <!-- Open Graph (Facebook, LinkedIn) -->
    <meta property="og:type" content={ogType} />
    <meta property="og:url" content={Astro.url.href} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta
      property="og:image"
      content={ogImage || `${Astro.site}steelmaticon.svg`}
    />
    <meta property="og:locale" content="es_AR" />
    <meta property="og:site_name" content="SteelMat" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta
      name="twitter:image"
      content={ogImage || `${Astro.site}steelmaticon.svg`}
    />

    <!-- Robots -->
    <meta
      name="robots"
      content={noindex ? "noindex, nofollow" : "index, follow"}
    />

    <OrganizationSchema />

    <OpenPanelComponent
      clientId="your-client-id"
      trackScreenViews={true}
      trackAttributes={true}
      trackOutgoingLinks={true}
      apiUrl="https://steelmat.com.ar"
      cdnUrl="https://openpanel.dev/op1.js"
      profileId="37713879"
    />
  </head>
  <body>
    <header>
      <NavBar textColor={navBarTextColor} menuButtonColor={menuButtonColor} borderMenuColor={borderMenuColor} iconUrl={iconUrl} />
    </header>
    <main>
      <slot />
    </main>

    <Footer />
    <Whatsappicon width="lg:w-12 md:w-10 w-8" height="lg:h-12 md:h-10 w-8" />
    <script>
      import "flowbite";
    </script>
    <!--
    <script>
  window.op=window.op||function(){var n=[];return new Proxy(function(){arguments.length&&n.push([].slice.call(arguments))},{get:function(t,r){return"q"===r?n:function(){n.push([r].concat([].slice.call(arguments)))}} ,has:function(t,r){return"q"===r}}) }();
  window.op('init', {
    clientId: '7eaa9e80-840e-4a83-a3b6-e60d2ecab267',
    trackScreenViews: true,
    trackOutgoingLinks: true,
    trackAttributes: true,
  });
</script>
<script src="https://openpanel.dev/op1.js" defer async></script> -->
  </body>
</html>
